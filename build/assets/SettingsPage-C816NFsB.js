import{j as e}from"./ui-DrjZcVPk.js";import{c as k,u as I,q as K,r as ee,B as r,s as se,v as ae,w as re,x as le,y as t,I as o,z as ie,C as n,a as c,i as m,j as x,o as h,U as te,k as p}from"./index-CPXgTZqr.js";import{b as M,u as ne}from"./vendor-DWqeVyvT.js";import{u as ce,C as F,a as T}from"./useCarCatalog-BsXcR9y7.js";import{P,T as de,C as oe,F as me}from"./checkbox-ZGZd9czF.js";import{S as v,a as f,b as N,c as y,d as C}from"./select-DJNuIx2U.js";import{C as xe,A as he,a as je,T as V,b as ue,c as ge,d as pe,e as ve,f as fe,g as Ne,h as ye}from"./alert-dialog-BrCKzFsl.js";import{B as z}from"./badge-BBs-Ut3W.js";import{S as E}from"./star-uKfy8Gm_.js";import{C as Ce}from"./chevron-left-NpBrcDAY.js";import"./supabase-DiJShdzZ.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],we=k("bell",be);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],L=k("palette",ke);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ae=k("shield",De);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Me=k("square-pen",Se);function ze(){const{cars:d,addCar:b,updateCar:q,deleteCar:B,setPrimaryCar:H}=I(),[U,w]=M.useState(!1),[j,D]=M.useState(null),[a,i]=M.useState({make:"",model:"",year:new Date().getFullYear(),trim:"",color:"",vin:"",notes:"",is_primary:!1}),{selection:l,filteredOptions:u,updateSelection:g,isValidSelection:A,displayName:Y,resetSelection:G}=ce(),O=async s=>{s.preventDefault(),j?(await q(j.id,a),D(null)):await b(a),S(),w(!1)},R=s=>{D(s),i({make:s.make,model:s.model,year:s.year,trim:s.trim||"",color:s.color||"",vin:s.vin||"",notes:s.notes||"",is_primary:s.is_primary}),w(!0)},$=async s=>{await B(s)},Q=async s=>{await H(s)},S=()=>{i({make:"",model:"",year:new Date().getFullYear(),trim:"",color:"",vin:"",notes:"",is_primary:!1}),D(null)},W=()=>{w(!1),S()},X=async()=>{if(!A||!l.make||!l.model||!l.year)return;const s=T.getAllMakes().find(J=>J.id===l.make),_=T.getModel(l.make,l.model);if(!s||!_)return;const Z={make:s.name,model:_.name,year:l.year,trim:l.trim||void 0,is_primary:d.length===0};await b(Z),G()};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(F,{className:"h-6 w-6"}),"My Garage"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your vehicles and set preferences for part recommendations"})]}),e.jsxs(K,{open:U,onOpenChange:w,children:[e.jsx(ee,{asChild:!0,children:e.jsxs(r,{onClick:()=>S(),children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Add Car"]})}),e.jsxs(se,{className:"sm:max-w-[600px]",children:[e.jsxs(ae,{children:[e.jsx(re,{children:j?"Edit Car":"Add New Car"}),e.jsx(le,{children:j?"Update your car information below.":"Add a new car to your garage to get personalized part recommendations."})]}),e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"make",children:"Make *"}),e.jsx(o,{id:"make",value:a.make,onChange:s=>i({...a,make:s.target.value}),placeholder:"e.g., Toyota",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"model",children:"Model *"}),e.jsx(o,{id:"model",value:a.model,onChange:s=>i({...a,model:s.target.value}),placeholder:"e.g., Camry",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"year",children:"Year *"}),e.jsx(o,{id:"year",type:"number",value:a.year,onChange:s=>i({...a,year:parseInt(s.target.value)}),min:"1900",max:new Date().getFullYear()+1,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"trim",children:"Trim"}),e.jsx(o,{id:"trim",value:a.trim,onChange:s=>i({...a,trim:s.target.value}),placeholder:"e.g., LE, XLE, Hybrid"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"color",children:"Color"}),e.jsx(o,{id:"color",value:a.color,onChange:s=>i({...a,color:s.target.value}),placeholder:"e.g., Silver, Black, White"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"vin",children:"VIN"}),e.jsx(o,{id:"vin",value:a.vin,onChange:s=>i({...a,vin:s.target.value}),placeholder:"17-character VIN",maxLength:17})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"notes",children:"Notes"}),e.jsx(de,{id:"notes",value:a.notes,onChange:s=>i({...a,notes:s.target.value}),placeholder:"Any additional notes about your car...",rows:3})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{id:"is_primary",checked:a.is_primary,onCheckedChange:s=>i({...a,is_primary:!!s})}),e.jsx(t,{htmlFor:"is_primary",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Set as primary car"})]}),e.jsxs(ie,{children:[e.jsx(r,{type:"button",variant:"outline",onClick:W,children:"Cancel"}),e.jsx(r,{type:"submit",children:j?"Update Car":"Add Car"})]})]})]})]})]}),e.jsx(n,{children:e.jsxs(c,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-foreground",children:d.length===0?"Add Your First Car":"Add Another Car"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[e.jsxs(v,{value:l.year?.toString()||"",onValueChange:s=>g("year",parseInt(s)),children:[e.jsx(f,{className:"bg-input-background",children:e.jsx(N,{placeholder:"Year"})}),e.jsx(y,{children:u.years.map(s=>e.jsx(C,{value:s.toString(),children:s},s))})]}),e.jsxs(v,{value:l.make||"",onValueChange:s=>g("make",s),children:[e.jsx(f,{className:"bg-input-background",children:e.jsx(N,{placeholder:"Make"})}),e.jsx(y,{children:u.makes.map(s=>e.jsx(C,{value:s.id,children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:s.name}),e.jsx(z,{variant:"secondary",className:"ml-2 text-xs",children:s.country})]})},s.id))})]}),e.jsxs(v,{value:l.model||"",onValueChange:s=>g("model",s),disabled:!l.make,children:[e.jsx(f,{className:"bg-input-background",children:e.jsx(N,{placeholder:"Model"})}),e.jsx(y,{children:u.models.map(s=>e.jsx(C,{value:s.id,children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:s.name}),s.popularForModding&&e.jsx(z,{variant:"destructive",className:"ml-2 text-xs",children:"Mod"})]})},s.id))})]}),e.jsxs(v,{value:l.trim||"",onValueChange:s=>g("trim",s),disabled:!l.model,children:[e.jsx(f,{className:"bg-input-background",children:e.jsx(N,{placeholder:"Trim"})}),e.jsx(y,{children:u.trims.map(s=>e.jsx(C,{value:s,children:s},s))})]}),e.jsxs(v,{value:l.engine||"",onValueChange:s=>g("engine",s),disabled:!l.model,children:[e.jsx(f,{className:"bg-input-background",children:e.jsx(N,{placeholder:"Engine"})}),e.jsx(y,{children:u.engines.map(s=>e.jsx(C,{value:s,children:s},s))})]})]}),A&&e.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Selected:"}),e.jsx("p",{className:"font-medium",children:Y})]}),e.jsxs(r,{onClick:X,disabled:!A,className:"text-white",style:{backgroundColor:"#0a68b1"},onMouseEnter:s=>s.target.style.backgroundColor="#0856a0",onMouseLeave:s=>s.target.style.backgroundColor="#0a68b1",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Add Car"]})]})]})}),d.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(s=>e.jsxs(n,{className:s.is_primary?"ring-2 ring-primary":"",children:[e.jsxs(m,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5 text-primary"}),e.jsxs(x,{className:"text-lg",children:[s.year," ",s.make," ",s.model]})]}),s.is_primary&&e.jsxs(z,{variant:"default",className:"flex items-center gap-1",children:[e.jsx(E,{className:"h-3 w-3"}),"Primary"]})]}),s.trim&&e.jsx(h,{className:"text-sm",children:s.trim})]}),e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2 text-sm",children:[s.color&&e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{children:s.color})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:s.year})]}),s.notes&&e.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground",children:[e.jsx(me,{className:"h-4 w-4 mt-0.5"}),e.jsx("span",{className:"text-xs",children:s.notes})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[!s.is_primary&&e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>Q(s.id),className:"flex-1",children:[e.jsx(E,{className:"h-4 w-4 mr-1"}),"Set Primary"]}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>R(s),children:e.jsx(Me,{className:"h-4 w-4"})}),e.jsxs(he,{children:[e.jsx(je,{asChild:!0,children:e.jsx(r,{variant:"outline",size:"sm",children:e.jsx(V,{className:"h-4 w-4"})})}),e.jsxs(ue,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:"Remove Car from Garage"}),e.jsx(ve,{children:"Are you sure you want to remove this car from your garage? This action cannot be undone."})]}),e.jsxs(fe,{children:[e.jsx(Ne,{children:"Cancel"}),e.jsx(ye,{onClick:()=>$(s.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove Car"})]})]})]})]})]})]},s.id))})]})}function Ue(){const{user:d}=I(),b=ne();return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(r,{variant:"ghost",onClick:()=>b("/"),className:"mb-6",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your account preferences and settings"})]}),e.jsx("div",{className:"mb-8",children:e.jsx(ze,{})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(n,{children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"Account"]}),e.jsx(h,{children:"Manage your account information"})]}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Profile Information"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your name, username, and bio"})]}),e.jsx(r,{variant:"outline",size:"sm",children:"Edit"})]}),e.jsx(p,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email Address"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d?.email})]}),e.jsx(r,{variant:"outline",size:"sm",children:"Change"})]}),e.jsx(p,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Password"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your password"})]}),e.jsx(r,{variant:"outline",size:"sm",children:"Change"})]})]})]}),e.jsxs(n,{children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),"Notifications"]}),e.jsx(h,{children:"Control how you receive notifications"})]}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about new parts and updates"})]}),e.jsx(r,{variant:"outline",size:"sm",children:"Configure"})]}),e.jsx(p,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive browser notifications"})]}),e.jsx(r,{variant:"outline",size:"sm",children:"Configure"})]})]})]}),e.jsxs(n,{children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),"Privacy & Security"]}),e.jsx(h,{children:"Manage your privacy and security settings"})]}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Profile Visibility"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Control who can see your profile"})]}),e.jsx(r,{variant:"outline",size:"sm",children:"Manage"})]}),e.jsx(p,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Data Export"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Download your data"})]}),e.jsx(r,{variant:"outline",size:"sm",children:"Export"})]})]})]}),e.jsxs(n,{children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Appearance"]}),e.jsx(h,{children:"Customize the look and feel"})]}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Theme"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your preferred theme"})]}),e.jsx(r,{variant:"outline",size:"sm",children:"Change"})]}),e.jsx(p,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Language"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select your language"})]}),e.jsx(r,{variant:"outline",size:"sm",children:"Change"})]})]})]})]}),e.jsxs(n,{className:"mt-6 border-destructive",children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center gap-2 text-destructive",children:[e.jsx(V,{className:"h-5 w-5"}),"Danger Zone"]}),e.jsx(h,{children:"Irreversible and destructive actions"})]}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-destructive",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account and all data"})]}),e.jsx(r,{variant:"destructive",size:"sm",children:"Delete Account"})]})})]})]})]})})}export{Ue as SettingsPage};
