import{j as e}from"./ui-7ID9SH2a.js";import{c as S,u as le,D as Ie,l as Me,m as Ee,n as He,P as w,o as Oe,T as $e,f as qe,g as A,h as T,L as r,I as o,X as O,B as l,C as c,i as h,j as u,a as d,S as _e,p as Ue,t as p,q as se,r as Ve,s as Be,v as ze,w as ae,E as Re,A as We,b as Ge,d as Ye,x as $,k as te,H as ie,y as Je}from"./index-BeUK1Jxh.js";import{B as L}from"./badge-CD2Xx-f9.js";import{b as n,u as Ke}from"./vendor-CDpTtB3_.js";import{C as Xe,u as Qe}from"./useProducts-D8TIVmHh.js";import{u as Ze,S as ge,a as pe,b as fe,c as Ne,d as ve,C as es}from"./useCarCatalog-BxQi0kqV.js";import{T as ss,P as ye,F as be,C as as,A as ts,a as is,b as ls,c as rs,d as ns,e as cs,f as ds,g as os,h as ms,i as xs,j as Se}from"./alert-dialog-DrPITKm0.js";import{P as hs}from"./printer-Dqpt3Emo.js";import{C as us}from"./chevron-left-CADsQIL4.js";import{D as js}from"./download-B7uUB7TB.js";import"./supabase-DAPVm_YM.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ps=S("dollar-sign",gs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Ns=S("ellipsis-vertical",fs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ys=S("image",vs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ws=S("mail",bs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],q=S("pen-line",Cs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],we=S("upload",_s),Ss=["Exterior","Interior","Engine","Suspension","Wheels & Tires","Lighting","Electronics","Tools & Accessories","Performance","Aesthetic"],Ds=["Easy","Medium","Hard","Professional"];function Ce({isOpen:j,onClose:i,onProductCreated:D}){const{user:x,profile:P}=le(),[N,g]=n.useState(!1),[I,M]=n.useState("basic"),[t,E]=n.useState(""),[re,ne]=n.useState(""),[U,ce]=n.useState(""),[V,de]=n.useState(""),[k,B]=n.useState([]),[H,z]=n.useState(""),[R,W]=n.useState(null),[oe,G]=n.useState(null),[F,Y]=n.useState(null),[v,J]=n.useState([]),{selection:f,isValidSelection:K,displayName:De,resetSelection:me}=Ze(),[y,b]=n.useState({installation_difficulty:"Medium",materials:[],tools_required:[],performance_gains:[]}),[C,_]=n.useState({layer_height:.2,infill_percentage:20,supports:!1,material_recommendation:["PLA"]}),Pe=s=>{const a=s.target.files?.[0];if(a){W(a);const m=new FileReader;m.onload=X=>{G(X.target?.result)},m.readAsDataURL(a)}},ke=s=>{const a=s.target.files?.[0];a&&a.name.toLowerCase().endsWith(".stl")?Y(a):p.error("Please select a valid STL file")},xe=()=>{H.trim()&&!k.includes(H.trim())&&(B([...k,H.trim()]),z(""))},Fe=s=>{B(k.filter(a=>a!==s))},Ae=()=>{if(K&&f.make&&f.model&&f.year){const s={make:f.make,model:f.model,year:f.year,trim:f.trim||void 0,engine:f.engine||void 0};v.some(m=>m.make===s.make&&m.model===s.model&&m.year===s.year&&m.trim===s.trim)||(J([...v,s]),me())}},Te=s=>{J(v.filter((a,m)=>m!==s))},he=()=>{E(""),ne(""),ce(""),de(""),B([]),z(""),W(null),G(null),Y(null),J([]),me(),b({installation_difficulty:"Medium",materials:[],tools_required:[],performance_gains:[]}),_({layer_height:.2,infill_percentage:20,supports:!1,material_recommendation:["PLA"]}),M("basic")},Le=async s=>{if(s.preventDefault(),!x||!P?.is_creator){p.error("You must be a registered creator to create products");return}if(!t.trim()||!U||!V){p.error("Please fill in all required fields");return}if(v.length===0){p.error("Please add at least one vehicle fitment");return}g(!0);try{let a="",m="";if(R){const Q=`products/${x.id}/${Date.now()}_${R.name}`,{data:Z,error:ee}=await se.uploadFile(R,"product-images",Q);if(ee){p.error("Failed to upload image"),g(!1);return}a=Z?.url||""}if(F){const Q=`stl-files/${x.id}/${Date.now()}_${F.name}`,{data:Z,error:ee}=await se.uploadFile(F,"stl-files",Q);if(ee){p.error("Failed to upload STL file"),g(!1);return}m=Z?.url||""}const X={title:t.trim(),description:re.trim()||void 0,price:parseFloat(U),category:V,image_url:a||void 0,stl_file_url:m||void 0,fitment:v,specifications:y,print_settings:C,is_published:!0,tags:k},{data:ks,error:je}=await se.createProduct(X);je?(p.error("Failed to create product"),console.error("Create product error:",je)):(p.success("Product created successfully!"),he(),i(),D?.())}catch(a){p.error("An unexpected error occurred"),console.error("Product creation error:",a)}finally{g(!1)}},ue=()=>{N||(he(),i())};return e.jsx(Ie,{open:j,onOpenChange:ue,children:e.jsxs(Me,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ee,{children:[e.jsxs(He,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),"Create New Product"]}),e.jsx(Oe,{children:"Add a new 3D printable car part to your store. Fill out all sections to create a complete listing."})]}),e.jsxs("form",{onSubmit:Le,children:[e.jsxs($e,{value:I,onValueChange:M,className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsx(A,{value:"basic",children:"Basic Info"}),e.jsx(A,{value:"files",children:"Files"}),e.jsx(A,{value:"fitment",children:"Fitment"}),e.jsx(A,{value:"specs",children:"Specifications"}),e.jsx(A,{value:"print",children:"Print Settings"})]}),e.jsxs(T,{value:"basic",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"title",children:"Product Title *"}),e.jsx(o,{id:"title",value:t,onChange:s=>E(s.target.value),placeholder:"e.g., BMW E90 Front Splitter V2",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"price",children:"Price (USD) *"}),e.jsx(o,{id:"price",type:"number",step:"0.01",min:"0",value:U,onChange:s=>ce(s.target.value),placeholder:"24.99",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"category",children:"Category *"}),e.jsxs(ge,{value:V,onValueChange:de,required:!0,children:[e.jsx(pe,{children:e.jsx(fe,{placeholder:"Select a category"})}),e.jsx(Ne,{children:Ss.map(s=>e.jsx(ve,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"description",children:"Description"}),e.jsx(ss,{id:"description",value:re,onChange:s=>ne(s.target.value),placeholder:"Describe your product, its features, and benefits...",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:k.map((s,a)=>e.jsxs(L,{variant:"secondary",className:"flex items-center gap-1",children:[s,e.jsx(O,{className:"h-3 w-3 cursor-pointer",onClick:()=>Fe(s)})]},a))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{value:H,onChange:s=>z(s.target.value),placeholder:"Add a tag...",onKeyDown:s=>s.key==="Enter"&&(s.preventDefault(),xe())}),e.jsx(l,{type:"button",variant:"outline",onClick:xe,children:e.jsx(ye,{className:"h-4 w-4"})})]})]})]}),e.jsx(T,{value:"files",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(c,{children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(ys,{className:"h-4 w-4"}),"Product Image"]})}),e.jsxs(d,{className:"space-y-4",children:[oe?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:oe,alt:"Preview",className:"w-full h-48 object-cover rounded-md"}),e.jsx(l,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>{W(null),G(null)},children:e.jsx(O,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-md p-8 text-center",children:[e.jsx(we,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload product image"})]}),e.jsx(o,{type:"file",accept:"image/*",onChange:Pe,className:"cursor-pointer"})]})]}),e.jsxs(c,{children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-4 w-4"}),"STL File"]})}),e.jsxs(d,{className:"space-y-4",children:[F?e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-md",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:F.name})]}),e.jsx(l,{type:"button",variant:"ghost",size:"sm",onClick:()=>Y(null),children:e.jsx(O,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-md p-8 text-center",children:[e.jsx(we,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload STL file"})]}),e.jsx(o,{type:"file",accept:".stl",onChange:ke,className:"cursor-pointer"})]})]})]})}),e.jsx(T,{value:"fitment",className:"space-y-4",children:e.jsxs(c,{children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(es,{className:"h-4 w-4"}),"Vehicle Compatibility"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsx(Xe,{onSelectionChange:()=>{}}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{type:"button",onClick:Ae,disabled:!K,className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4"}),"Add Vehicle"]}),K&&e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:["Selected: ",De]})]}),v.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Compatible Vehicles:"}),e.jsx("div",{className:"space-y-2",children:v.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-md",children:[e.jsxs("span",{className:"text-sm",children:[s.year," ",s.make," ",s.model,s.trim&&` ${s.trim}`,s.engine&&` (${s.engine})`]}),e.jsx(l,{type:"button",variant:"ghost",size:"sm",onClick:()=>Te(a),children:e.jsx(O,{className:"h-4 w-4"})})]},a))})]})]})]})}),e.jsx(T,{value:"specs",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(c,{children:[e.jsx(h,{children:e.jsx(u,{children:"Installation"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Difficulty Level"}),e.jsxs(ge,{value:y.installation_difficulty,onValueChange:s=>b(a=>({...a,installation_difficulty:s})),children:[e.jsx(pe,{children:e.jsx(fe,{})}),e.jsx(Ne,{children:Ds.map(s=>e.jsx(ve,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Installation Time"}),e.jsx(o,{value:y.installation_time||"",onChange:s=>b(a=>({...a,installation_time:s.target.value})),placeholder:"e.g., 30-45 minutes"})]})]})]}),e.jsxs(c,{children:[e.jsx(h,{children:e.jsx(u,{children:"Dimensions"})}),e.jsx(d,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Length (mm)"}),e.jsx(o,{type:"number",value:y.dimensions?.length||"",onChange:s=>b(a=>({...a,dimensions:{...a.dimensions,length:parseFloat(s.target.value)||void 0}}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Width (mm)"}),e.jsx(o,{type:"number",value:y.dimensions?.width||"",onChange:s=>b(a=>({...a,dimensions:{...a.dimensions,width:parseFloat(s.target.value)||void 0}}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Height (mm)"}),e.jsx(o,{type:"number",value:y.dimensions?.height||"",onChange:s=>b(a=>({...a,dimensions:{...a.dimensions,height:parseFloat(s.target.value)||void 0}}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Weight (g)"}),e.jsx(o,{type:"number",value:y.dimensions?.weight||"",onChange:s=>b(a=>({...a,dimensions:{...a.dimensions,weight:parseFloat(s.target.value)||void 0}}))})]})]})})]})]})}),e.jsx(T,{value:"print",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(c,{children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-4 w-4"}),"Print Settings"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Layer Height (mm)"}),e.jsx(o,{type:"number",step:"0.01",value:C.layer_height||"",onChange:s=>_(a=>({...a,layer_height:parseFloat(s.target.value)||void 0}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Infill (%)"}),e.jsx(o,{type:"number",value:C.infill_percentage||"",onChange:s=>_(a=>({...a,infill_percentage:parseInt(s.target.value)||void 0}))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(as,{id:"supports",checked:C.supports||!1,onCheckedChange:s=>_(a=>({...a,supports:!!s}))}),e.jsx(r,{htmlFor:"supports",children:"Supports Required"})]})]})]}),e.jsxs(c,{children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"h-4 w-4"}),"Estimates"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Print Time"}),e.jsx(o,{value:C.estimated_print_time||"",onChange:s=>_(a=>({...a,estimated_print_time:s.target.value})),placeholder:"e.g., 8-12 hours"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Material Usage"}),e.jsx(o,{value:C.estimated_material_usage||"",onChange:s=>_(a=>({...a,estimated_material_usage:s.target.value})),placeholder:"e.g., 200g PLA"})]})]})]})]})})]}),e.jsxs(Ue,{className:"mt-6",children:[e.jsx(l,{type:"button",variant:"outline",onClick:ue,disabled:N,children:"Cancel"}),e.jsx(l,{type:"submit",disabled:N,children:N?"Creating...":"Create Product"})]})]})]})})}function Ps(){const{profile:j}=le(),{products:i,loading:D,fetchCreatorProducts:x,deleteProduct:P}=Qe(),[N,g]=n.useState(!1);n.useEffect(()=>{j?.is_creator&&x()},[j]);const I=()=>{x()},M=async t=>{await P(t)};return j?.is_creator?D?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(w,{className:"h-12 w-12 mx-auto mb-4 opacity-50 animate-pulse"}),e.jsx("p",{children:"Loading your products..."})]}):i.length===0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(w,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No products yet"}),e.jsx("p",{className:"text-sm mb-4",children:"Start creating and selling your 3D car parts"}),e.jsxs(l,{onClick:()=>g(!0),children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Create Product"]})]}),e.jsx(Ce,{isOpen:N,onClose:()=>g(!1),onProductCreated:I})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," product",i.length!==1?"s":""]})}),e.jsxs(l,{onClick:()=>g(!0),children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Create Product"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(t=>e.jsxs(c,{className:"overflow-hidden",children:[e.jsxs("div",{className:"aspect-square bg-muted relative",children:[t.image_url?e.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(w,{className:"h-12 w-12 text-muted-foreground"})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(L,{variant:t.is_published?"default":"secondary",children:t.is_published?"Published":"Draft"})})]}),e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-sm line-clamp-2",children:t.title}),e.jsxs(Ve,{children:[e.jsx(Be,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"sm",children:e.jsx(Ns,{className:"h-4 w-4"})})}),e.jsxs(ze,{align:"end",children:[e.jsxs(ae,{children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(ae,{children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(ts,{children:[e.jsx(is,{asChild:!0,children:e.jsxs(ae,{onSelect:E=>E.preventDefault(),children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"Delete"]})}),e.jsxs(rs,{children:[e.jsxs(ns,{children:[e.jsx(cs,{children:"Delete Product"}),e.jsxs(ds,{children:['Are you sure you want to delete "',t.title,'"? This action cannot be undone.']})]}),e.jsxs(os,{children:[e.jsx(ms,{children:"Cancel"}),e.jsx(xs,{onClick:()=>M(t.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1 text-primary",children:[e.jsx(ps,{className:"h-3 w-3"}),e.jsx("span",{className:"font-semibold",children:t.price.toFixed(2)})]}),t.category&&e.jsx(L,{variant:"outline",className:"text-xs",children:t.category})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(Se,{className:"h-3 w-3"}),e.jsx("span",{children:new Date(t.created_at).toLocaleDateString()})]}),t.fitment&&Array.isArray(t.fitment)&&t.fitment.length>0&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Fits: ",t.fitment.length," vehicle",t.fitment.length!==1?"s":""]})]})]})]},t.id))})]}),e.jsx(Ce,{isOpen:N,onClose:()=>g(!1),onProductCreated:I})]}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(w,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Creator Account Required"}),e.jsx("p",{className:"text-sm mb-4",children:"You need creator approval to sell products"}),e.jsx(l,{variant:"outline",disabled:!0,children:"Contact Admin for Approval"})]})}function Us(){const{user:j,profile:i,signOut:D}=le(),x=Ke(),P=async()=>{await D(),x("/")};return!j||!i?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx(c,{className:"w-full max-w-md",children:e.jsxs(d,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"Please log in to view your account."}),e.jsx(l,{onClick:()=>x("/"),className:"mt-4",children:"Go Home"})]})})}):e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(l,{variant:"ghost",onClick:()=>x("/"),className:"mb-6",children:[e.jsx(us,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(c,{children:[e.jsxs(h,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs(We,{className:"h-24 w-24",children:[e.jsx(Ge,{src:i.avatar_url}),e.jsx(Ye,{className:"text-2xl",children:i.full_name?.charAt(0)||j.email?.charAt(0)||"U"})]})}),e.jsx(u,{className:"text-2xl",children:i.full_name}),e.jsxs($,{children:["@",i.username]}),e.jsxs("div",{className:"flex justify-center gap-2 mt-2",children:[e.jsx(L,{variant:"secondary",children:i.is_creator?"Creator":"User"}),e.jsxs(L,{variant:"outline",children:["Member since ",new Date(i.created_at).toLocaleDateString()]})]})]}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsx(ws,{className:"h-4 w-4"}),e.jsx("span",{children:j.email})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsxs("span",{children:["Joined ",new Date(i.created_at).toLocaleDateString()]})]}),i.bio&&e.jsx("div",{className:"pt-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:i.bio})}),e.jsx(te,{}),e.jsxs(l,{className:"w-full",variant:"outline",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(c,{children:e.jsxs(d,{className:"p-6 text-center",children:[e.jsx(w,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Products"})]})}),e.jsx(c,{children:e.jsxs(d,{className:"p-6 text-center",children:[e.jsx(ie,{className:"h-8 w-8 mx-auto mb-2 text-red-500"}),e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Favorites"})]})}),e.jsx(c,{children:e.jsxs(d,{className:"p-6 text-center",children:[e.jsx(js,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Downloads"})]})})]}),i?.is_creator&&e.jsxs(c,{children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),"My Products"]}),e.jsx($,{children:"Manage your 3D printable car parts"})]}),e.jsx(d,{children:e.jsx(Ps,{})})]}),e.jsxs(c,{children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5"}),"My Favorites"]}),e.jsx($,{children:"Parts you've saved for later"})]}),e.jsx(d,{children:e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ie,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No favorites yet"}),e.jsx("p",{className:"text-sm mb-4",children:"Browse parts and save your favorites"}),e.jsx(l,{variant:"outline",onClick:()=>x("/"),children:"Browse Parts"})]})})]}),e.jsxs(c,{children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-5 w-5"}),"Account Settings"]}),e.jsx($,{children:"Manage your account preferences"})]}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about new parts and updates"})]}),e.jsx(l,{variant:"outline",size:"sm",children:"Configure"})]}),e.jsx(te,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Privacy Settings"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Control your profile visibility"})]}),e.jsx(l,{variant:"outline",size:"sm",children:"Manage"})]}),e.jsx(te,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-600",children:"Sign Out"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign out of your account"})]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:P,children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})]})]})]})]})})}export{Us as MyAccountPage};
