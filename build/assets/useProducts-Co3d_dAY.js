import{b as l}from"./vendor-DWqeVyvT.js";import{p as d,t as o}from"./index-CPXgTZqr.js";function g(){const[u,a]=l.useState([]),[i,c]=l.useState(!1),[n,e]=l.useState(null);return{products:u,loading:i,error:n,fetchCreatorProducts:async t=>{c(!0),e(null);try{const{data:r,error:s}=await d.getCreatorProducts(t);s?(e(s.message),o.error("Failed to load products")):a(r||[])}catch{e("An unexpected error occurred"),o.error("Failed to load products")}finally{c(!1)}},fetchPublishedProducts:async()=>{c(!0),e(null);try{const{data:t,error:r}=await d.getPublishedProducts();r?(e(r.message),o.error("Failed to load products")):a(t||[])}catch{e("An unexpected error occurred"),o.error("Failed to load products")}finally{c(!1)}},fetchProductsByCarCompatibility:async t=>{c(!0),e(null);try{const{data:r,error:s}=await d.getProductsByCarCompatibility(t);s?(e(s.message),o.error("Failed to load products")):a(r||[])}catch{e("An unexpected error occurred"),o.error("Failed to load products")}finally{c(!1)}},deleteProduct:async t=>{try{const{error:r}=await d.deleteProduct(t);r?o.error("Failed to delete product"):(a(s=>s.filter(f=>f.id!==t)),o.success("Product deleted successfully"))}catch{o.error("Failed to delete product")}}}}export{g as u};
