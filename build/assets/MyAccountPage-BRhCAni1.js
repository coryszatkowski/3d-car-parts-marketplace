import{j as e}from"./ui-DrjZcVPk.js";import{c as x,u as b,P as d,B as t,C as r,a as i,D as A,l as _,m as P,n as y,E as M,i as h,A as S,b as L,d as B,j,o as u,k as g,H as w,S as E,L as F}from"./index-CPXgTZqr.js";import{B as N}from"./badge-BBs-Ut3W.js";import{u as C,b as H}from"./vendor-DWqeVyvT.js";import{u as z}from"./useProducts-Co3d_dAY.js";import{A as T,a as $,T as O,b as q,c as I,d as V,e as G,f as R,g as U,h as J,C as D}from"./alert-dialog-BrCKzFsl.js";import{C as W}from"./chevron-left-NpBrcDAY.js";import{D as Y}from"./download-BbqEVBDX.js";import"./supabase-DiJShdzZ.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Q=x("dollar-sign",K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Z=x("ellipsis-vertical",X);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],se=x("mail",ee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],f=x("pen-line",ae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],re=x("store",te);function ie(){const{profile:l}=b(),a=C(),{products:c,loading:p,fetchCreatorProducts:n,deleteProduct:v}=z();H.useEffect(()=>{l?.is_creator&&n()},[l]);const m=()=>{a("/create-product")},k=async s=>{await v(s)};return l?.is_creator?p?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(d,{className:"h-12 w-12 mx-auto mb-4 opacity-50 animate-pulse"}),e.jsx("p",{children:"Loading your products..."})]}):c.length===0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(d,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No products yet"}),e.jsx("p",{className:"text-sm mb-4",children:"Start creating and selling your 3D car parts"}),e.jsxs(t,{onClick:m,children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Create Product"]})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.length," product",c.length!==1?"s":""]})}),e.jsxs(t,{onClick:m,children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Create Product"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(s=>e.jsxs(r,{className:"overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>a(`/product/${s.id}`),children:[e.jsxs("div",{className:"aspect-square bg-muted relative",children:[s.image_url?e.jsx("img",{src:s.image_url,alt:s.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(d,{className:"h-12 w-12 text-muted-foreground"})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(N,{variant:s.is_published?"default":"secondary",children:s.is_published?"Published":"Draft"})})]}),e.jsxs(i,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-sm line-clamp-2",children:s.title}),e.jsxs(A,{children:[e.jsx(_,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"sm",onClick:o=>o.stopPropagation(),children:e.jsx(Z,{className:"h-4 w-4"})})}),e.jsxs(P,{align:"end",children:[e.jsxs(y,{onClick:o=>{o.stopPropagation(),a(`/product/${s.id}`)},children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(y,{children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(T,{children:[e.jsx($,{asChild:!0,children:e.jsxs(y,{onSelect:o=>o.preventDefault(),children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Delete"]})}),e.jsxs(q,{children:[e.jsxs(I,{children:[e.jsx(V,{children:"Delete Product"}),e.jsxs(G,{children:['Are you sure you want to delete "',s.title,'"? This action cannot be undone.']})]}),e.jsxs(R,{children:[e.jsx(U,{children:"Cancel"}),e.jsx(J,{onClick:()=>k(s.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1 text-primary",children:[e.jsx(Q,{className:"h-3 w-3"}),e.jsx("span",{className:"font-semibold",children:s.price.toFixed(2)})]}),s.category&&e.jsx(N,{variant:"outline",className:"text-xs",children:s.category})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(D,{className:"h-3 w-3"}),e.jsx("span",{children:new Date(s.created_at).toLocaleDateString()})]}),s.fitment&&Array.isArray(s.fitment)&&s.fitment.length>0&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Fits: ",s.fitment.length," vehicle",s.fitment.length!==1?"s":""]})]})]})]},s.id))})]})}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(d,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Creator Account Required"}),e.jsx("p",{className:"text-sm mb-4",children:"You need creator approval to sell products"}),e.jsx(t,{variant:"outline",disabled:!0,children:"Contact Admin for Approval"})]})}function ue(){const{user:l,profile:a,signOut:c,becomeCreator:p}=b(),n=C(),v=async()=>{await c(),n("/")},m=async()=>{await p()};return!l||!a?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx(r,{className:"w-full max-w-md",children:e.jsxs(i,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"Please log in to view your account."}),e.jsx(t,{onClick:()=>n("/"),className:"mt-4",children:"Go Home"})]})})}):e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(t,{variant:"ghost",onClick:()=>n("/"),className:"mb-6",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(r,{children:[e.jsxs(h,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs(S,{className:"h-24 w-24",children:[e.jsx(L,{src:a.avatar_url}),e.jsx(B,{className:"text-2xl",children:a.full_name?.charAt(0)||l.email?.charAt(0)||"U"})]})}),e.jsx(j,{className:"text-2xl",children:a.full_name}),e.jsxs(u,{children:["@",a.username]}),e.jsxs("div",{className:"flex justify-center gap-2 mt-2",children:[e.jsx(N,{variant:"secondary",children:a.is_creator?"Creator":"User"}),e.jsxs(N,{variant:"outline",children:["Member since"," ",new Date(a.created_at).toLocaleDateString()]})]})]}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{children:l.email})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsxs("span",{children:["Joined ",new Date(a.created_at).toLocaleDateString()]})]}),a.bio&&e.jsx("div",{className:"pt-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:a.bio})}),e.jsx(g,{}),e.jsxs(t,{className:"w-full",variant:"outline",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(r,{children:e.jsxs(i,{className:"p-6 text-center",children:[e.jsx(d,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Products"})]})}),e.jsx(r,{children:e.jsxs(i,{className:"p-6 text-center",children:[e.jsx(w,{className:"h-8 w-8 mx-auto mb-2 text-red-500"}),e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Favorites"})]})}),e.jsx(r,{children:e.jsxs(i,{className:"p-6 text-center",children:[e.jsx(Y,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Downloads"})]})})]}),a?.is_creator&&e.jsxs(r,{children:[e.jsxs(h,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-5 w-5"}),"My Products"]}),e.jsx(u,{children:"Manage your 3D printable car parts"})]}),e.jsx(i,{children:e.jsx(ie,{})})]}),e.jsxs(r,{children:[e.jsxs(h,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),"My Favorites"]}),e.jsx(u,{children:"Parts you've saved for later"})]}),e.jsx(i,{children:e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(w,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No favorites yet"}),e.jsx("p",{className:"text-sm mb-4",children:"Browse parts and save your favorites"}),e.jsx(t,{variant:"outline",onClick:()=>n("/"),children:"Browse Parts"})]})})]}),e.jsxs(r,{children:[e.jsxs(h,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Account Settings"]}),e.jsx(u,{children:"Manage your account preferences"})]}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about new parts and updates"})]}),e.jsx(t,{variant:"outline",size:"sm",children:"Configure"})]}),e.jsx(g,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Privacy Settings"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Control your profile visibility"})]}),e.jsx(t,{variant:"outline",size:"sm",children:"Manage"})]}),!a?.is_creator&&e.jsxs(e.Fragment,{children:[e.jsx(g,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-primary",children:"Sell your designs on WHIPLAB"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Start earning by sharing your 3D car parts"})]}),e.jsxs(t,{size:"sm",onClick:m,children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Become Creator"]})]})]}),e.jsx(g,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-600",children:"Sign Out"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign out of your account"})]}),e.jsxs(t,{variant:"outline",size:"sm",onClick:v,children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})]})]})]})]})})}export{ue as MyAccountPage};
